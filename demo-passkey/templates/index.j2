<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passkey Demo</title>
    <script>
        const PASSKEY_ROUTE_PREFIX = '{{passkey_route_prefix}}';
    </script>
    <script src="{{passkey_route_prefix}}/passkey.js"></script>
</head>

<body>
    <div id="auth-header" style="padding: 10px; border-bottom: 1px solid #eee; margin-bottom: 20px">
        <div id="passkey-status" style="display: none">
            <!-- Will show greeting when authenticated -->
        </div>
        <h1>
            <div id="auth-status" style="display: none">
                <!-- Will show greeting when authenticated -->
            </div>
        </h1>
        <div id="auth-actions" style="display: block">
            <!-- Will show auth buttons based on state -->
            <button onclick="startAuthentication()" class="auth-button">
                Sign in with Passkey
            </button>
            <div style="display: flex; gap: 10px; margin-top: 10px;">
                <input type="text" id="username-input" placeholder="Enter username"
                    style="padding: 5px; border: 1px solid #ccc; border-radius: 4px;">
                <button onclick="startAuthentication(true)" class="auth-button">
                    Sign in with Username
                </button>
            </div>
        </div>
        <div id="auth-register" style="display: block">
            <!-- Will show auth buttons based on state -->
            {# <button onclick="startRegistration(true)" class="auth-button"> #}
            <button onclick="showRegistrationModal()" class="auth-button">
                    Register New Passkey
            </button>
        </div>
        <div id="auth-register" style="display: block">
            <h1>RegisterPasskeyfromSession</h1>
            <!-- Will show auth buttons based on state -->
            <button onclick="startRegistration(false)" class="auth-button">
                Register New Passkey
            </button>
        </div>
    </div>

    <div id="main-content">
        <h1>Hello, World!</h1>
        <p>Welcome to our site. This is the main content that's always visible.</p>
    </div>
</body>

</html>
